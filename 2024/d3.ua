Data ← &fras "d3.txt"

# Part 1
/+/×∵(⋕°□) ↘1⍉ regex "mul\\((\\d+),(\\d+)\\)" Data

# Part 2
⍜⍉↘₁ ⬚""regex "(do\\(\\)|don't\\(\\)|mul\\((\\d+),(\\d+)\\))" ⊂"do()" Data
↘1⊕□ \+⊸≡(↥◇⊃(≍"do()"|≍"don't()") ⊢)
°□/+⍚(⨬(/+/×∵(⋕°□)↘1⍉↘1|0◌) ◇(≍"don't()") ⊢⊸⊢)
